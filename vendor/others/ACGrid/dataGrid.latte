<div class="container-fluid">
	{include #flash}
	{include #grid}
</div>

{define flash}
	<div n:foreach="$flashes as $flash" class="alert alert-{$flash->type === 'error' ? 'danger' : $flash->type}">
		{$flash->message}
	</div>
{/define}

{define grid}
	<div class="container">
		{form editForm}
			<table class="table table-bordered table-striped">
				<thead>
				<tr>
					{foreach $columns as $column}
						<th>{$column->label}</th>
					{/foreach}
					<th>
						<a n:href="server! 1">New</a>
					</th>
				</tr>
				</thead>
				<tbody>
				{foreach $data as $row}
					<tr>
						{foreach $columns as $column}
							<td>
								{if $row->id === $id}
									{input $column->name}
								{else}
									{$row->{$column->name}}
								{/if}
							</td>
						{/foreach}
						<td>
							{if $row->id === $id}
								{input 'save'}
							{else}
								<a n:href="server! 2, $row->id">Edit</a>
								<a n:href="server! 3, $row->id">Remove</a>
							{/if}
						</td>
					</tr>
				{/foreach}
				</tbody>
				<tfoot>
				<td colspan="{count($columns)+1}">ACGrid</td>
				</tfoot>
			</table>
		{/form}
	</div>
{/define}